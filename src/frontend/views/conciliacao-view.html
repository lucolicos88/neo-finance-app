<div class="view-container" id="conciliacao-view">
  <h1 class="view-title">Concilia√ß√£o Banc√°ria</h1>

  <!-- Summary Cards -->
  <div class="stats-grid">
    <div class="stat-card warning">
      <div class="stat-label">Extratos Pendentes</div>
      <div class="stat-value" id="conc-extratos-pendentes">0</div>
      <div class="stat-change" id="conc-extratos-valor">R$ 0,00</div>
    </div>

    <div class="stat-card">
      <div class="stat-label">Lan√ßamentos N√£o Conciliados</div>
      <div class="stat-value" id="conc-lancamentos-pendentes">0</div>
      <div class="stat-change" id="conc-lancamentos-valor">R$ 0,00</div>
    </div>

    <div class="stat-card success">
      <div class="stat-label">Conciliados Hoje</div>
      <div class="stat-value" id="conc-hoje">0</div>
      <div class="stat-change" id="conc-hoje-valor">R$ 0,00</div>
    </div>

    <div class="stat-card">
      <div class="stat-label">Taxa de Concilia√ß√£o</div>
      <div class="stat-value" id="conc-taxa">0%</div>
      <div class="stat-change" id="conc-taxa-mes">No m√™s</div>
    </div>
  </div>

  <!-- Import Section -->
  <div class="card">
    <div class="card-header">
      <h2 class="card-title">Importar Extrato Banc√°rio</h2>
    </div>
    <div class="card-body">
      <div class="form-row">
        <div class="form-group">
          <label class="form-label">Banco</label>
          <select class="form-control" id="import-banco">
            <option value="">Selecione o banco</option>
            <option value="BRADESCO">Bradesco</option>
            <option value="ITAU">Ita√∫</option>
            <option value="SANTANDER">Santander</option>
            <option value="BB">Banco do Brasil</option>
            <option value="CAIXA">Caixa Econ√¥mica</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">Conta</label>
          <select class="form-control" id="import-conta">
            <option value="">Selecione a conta</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">Arquivo OFX/CSV</label>
          <input type="file" class="form-control" id="import-file" accept=".ofx,.csv">
        </div>

        <div class="form-group d-flex align-center">
          <button class="btn btn-primary" onclick="importarExtrato()" style="margin-top: 1.9rem;">
            üì§ Importar
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Conciliation Panel -->
  <div class="card">
    <div class="card-header">
      <h2 class="card-title">Painel de Concilia√ß√£o</h2>
      <div class="card-actions">
        <button class="btn btn-success" onclick="conciliarAutomatico()">
          ‚ö° Concilia√ß√£o Autom√°tica
        </button>
        <button class="btn btn-outline" onclick="refreshConciliacao()">
          üîÑ Atualizar
        </button>
      </div>
    </div>

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
      <!-- Extratos Banc√°rios -->
      <div>
        <h3 style="margin-bottom: 1rem; color: #495057; font-size: 1.1rem;">
          üìÑ Extratos Banc√°rios N√£o Conciliados
        </h3>

        <div class="filters mb-2" style="padding: 1rem;">
          <input
            type="text"
            class="form-control"
            id="search-extratos"
            placeholder="Buscar extratos..."
            onkeyup="filterExtratos()"
          >
        </div>

        <div id="extratos-list" style="max-height: 600px; overflow-y: auto;">
          <p class="text-muted text-center">Carregando extratos...</p>
        </div>
      </div>

      <!-- Lan√ßamentos -->
      <div>
        <h3 style="margin-bottom: 1rem; color: #495057; font-size: 1.1rem;">
          üìä Lan√ßamentos N√£o Conciliados
        </h3>

        <div class="filters mb-2" style="padding: 1rem;">
          <input
            type="text"
            class="form-control"
            id="search-lancamentos"
            placeholder="Buscar lan√ßamentos..."
            onkeyup="filterLancamentos()"
          >
        </div>

        <div id="lancamentos-list" style="max-height: 600px; overflow-y: auto;">
          <p class="text-muted text-center">Carregando lan√ßamentos...</p>
        </div>
      </div>
    </div>
  </div>

  <!-- History -->
  <div class="card">
    <div class="card-header">
      <h2 class="card-title">Hist√≥rico de Concilia√ß√µes</h2>
      <div class="card-actions">
        <button class="btn btn-outline" onclick="exportHistorico()">
          üì• Exportar
        </button>
      </div>
    </div>

    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>Data Concilia√ß√£o</th>
            <th>Extrato ID</th>
            <th>Lan√ßamento ID</th>
            <th>Descri√ß√£o</th>
            <th>Valor</th>
            <th>Banco</th>
            <th>Usu√°rio</th>
            <th>A√ß√µes</th>
          </tr>
        </thead>
        <tbody id="table-historico-conciliacao">
          <tr>
            <td colspan="8" class="text-center text-muted">Carregando...</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<style>
.extrato-item, .lancamento-item {
  background: white;
  border: 2px solid #e0e0e0;
  border-radius: 8px;
  padding: 1rem;
  margin-bottom: 0.75rem;
  cursor: pointer;
  transition: all 0.2s;
}

.extrato-item:hover, .lancamento-item:hover {
  border-color: #00a8e8;
  box-shadow: 0 2px 8px rgba(0,168,232,0.2);
}

.extrato-item.selected, .lancamento-item.selected {
  border-color: #00a8e8;
  background: #e8f7fd;
}

.item-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.5rem;
}

.item-date {
  font-weight: 600;
  color: #1a1a1a;
}

.item-value {
  font-size: 1.1rem;
  font-weight: 700;
}

.item-value.positive {
  color: #06d6a0;
}

.item-value.negative {
  color: #ef476f;
}

.item-description {
  color: #6c757d;
  font-size: 0.9rem;
  margin-bottom: 0.5rem;
}

.item-meta {
  display: flex;
  gap: 1rem;
  font-size: 0.85rem;
  color: #adb5bd;
}
</style>
